"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[380],{8380:function(e,l,s){s.r(l),s.d(l,{default:function(){return v}});var n=s(1413),a=s(5861),r=s(885),t=s(7757),o=s.n(t),i=s(2791),d=s(1134),c=s(6871),u=(s(3014),s(9566)),m=s(184),v=function(e){var l,s,t,v=(0,d.cI)(),p=v.register,x=v.handleSubmit,h=v.formState.errors,f=v.setError,b=v.reset,g=v.setValue,j=(0,i.useState)([]),N=(0,r.Z)(j,2),Z=N[0],y=N[1],k=(0,i.useState)(""),w=(0,r.Z)(k,2),S=w[0],M=w[1],R=(0,c.TH)(),q=(0,c.s0)();(0,i.useEffect)((function(){I()}),[]),(0,i.useEffect)((function(){var e,l;null!==R&&void 0!==R&&null!==(e=R.state)&&void 0!==e&&e.id&&A(null===R||void 0===R||null===(l=R.state)||void 0===l?void 0:l.id);console.log(R.state)}),[R]);var I=function(){var e=(0,a.Z)(o().mark((function e(){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.getRoles();case 3:l=e.sent,console.log(null===l||void 0===l?void 0:l.data),y(null===l||void 0===l?void 0:l.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)(o().mark((function e(l){var s,n,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.getMemberById(l);case 3:r=e.sent,M(l),g("name",null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.name),g("email",null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.email),g("role",null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.role),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(l){return e.apply(this,arguments)}}(),E=function(){var l=(0,a.Z)(o().mark((function l(s){var a,r,t;return o().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,!S){l.next=6;break}return l.next=4,u.Z.editMember((0,n.Z)((0,n.Z)({},s),{},{id:S}));case 4:l.next=8;break;case 6:return l.next=8,u.Z.createMember(s);case 8:b(),q("/app/members"),e.showSuccess({message:"Successfully Updated",detail:"Add Member Screen"}),l.next=17;break;case 13:l.prev=13,l.t0=l.catch(0),console.log(l.t0),400===(null===l.t0||void 0===l.t0||null===(a=l.t0.response)||void 0===a?void 0:a.status)&&f("email",{message:null===l.t0||void 0===l.t0||null===(r=l.t0.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message},{shouldFocus:!0});case 17:case"end":return l.stop()}}),l,null,[[0,13]])})));return function(e){return l.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"container",children:[(0,m.jsxs)("div",{style:{borderBottom:"1px solid rgb(237, 242, 249)"},className:"d-flex align-items-center my-6",children:[(0,m.jsx)("div",{style:{height:"25px",width:"12px",background:"#000",marginRight:"12px",borderRadius:"3px"}}),(0,m.jsx)("p",{className:"m-0",style:{fontSize:"15px",fontWeight:500,color:"#000"},children:"Add Member"})]}),(0,m.jsxs)("form",{onSubmit:x(E),style:{marginTop:"30px"},children:[(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",children:"Name of the Member"}),(0,m.jsx)("input",(0,n.Z)((0,n.Z)({type:"text"},p("name",{required:"Required Input"})),{},{className:"form-control",placeholder:"Name of the Member"})),(null===h||void 0===h?void 0:h.name)&&(0,m.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===h||void 0===h||null===(l=h.name)||void 0===l?void 0:l.message})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",children:"Email Address"}),(0,m.jsx)("input",(0,n.Z)((0,n.Z)({type:"text"},p("email",{required:"Required Input",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid Email"}})),{},{className:"form-control",placeholder:"name@address.com"})),(null===h||void 0===h?void 0:h.email)&&(0,m.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===h||void 0===h||null===(s=h.email)||void 0===s?void 0:s.message})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",children:"Role"})," ",(0,m.jsx)("br",{}),(0,m.jsxs)("select",(0,n.Z)((0,n.Z)({className:"form-control"},p("role",{required:"Required Input"})),{},{children:[(0,m.jsx)("option",{value:"",children:"Select one"}),Z.length>0&&Z.map((function(e){return(0,m.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),(null===h||void 0===h?void 0:h.role)&&(0,m.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===h||void 0===h||null===(t=h.role)||void 0===t?void 0:t.message})]})})]}),(0,m.jsx)("button",{className:"btn btn-primary mt-5 mb-5",type:"submit",children:"Save Changes"})]})]})}}}]);
//# sourceMappingURL=380.64b2d84f.chunk.js.map