"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[522],{1522:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var s=t(1413),l=t(5861),n=t(885),i=t(7757),r=t.n(i),o=t(2791),c=t(1134),d=t(6871),m=(t(344),t(9566)),u=t(184),p=[{text:"This option shows or hides the typing indicators which appear when other users are typing in the chat. This can be used to only allow certain groups of users to see when other users are typing.",value:"Show typing indicators"},{text:"By default this will let your users send images, videos, archives, and PDF files (max 100 MB per file).",value:"Allow file sharing"}],h=["None","Their own messages","All messages"],v=[{value:"",label:"Do not suppress contact info"},{value:"Suppress contact info in all messages",label:"Suppress contact info in all messages"},{value:"Only suppress contact info in messages written by others",label:"Only suppress contact info in messages written by others"}],x=function(e){var a,t,i,x,f,g,b=(0,c.cI)(),j=b.register,N=b.handleSubmit,y=b.watch,Z=b.formState.errors,k=b.reset,w=b.setValue,T=(b.getValues,y("isEmailNotificationsEnabled",!0)),S=(0,o.useState)([]),R=(0,n.Z)(S,2),E=(R[0],R[1]),q=(0,o.useState)(""),A=(0,n.Z)(q,2),C=A[0],I=A[1],O=(0,d.TH)(),P=(0,d.s0)();(0,o.useEffect)((function(){B()}),[]),(0,o.useEffect)((function(){var e,a;null!==O&&void 0!==O&&null!==(e=O.state)&&void 0!==e&&e.id&&H(null===O||void 0===O||null===(a=O.state)||void 0===a?void 0:a.id);console.log(O.state)}),[O]);var B=function(){var e=(0,l.Z)(r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.getRoles();case 3:a=e.sent,console.log(null===a||void 0===a?void 0:a.data),E(null===a||void 0===a?void 0:a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,l.Z)(r().mark((function e(a){var t,s,l,n,i,o,c,d,u,p,h,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.getRoleById(a);case 3:v=e.sent,I(a),w("name",null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.name),w("timeout",null===v||void 0===v||null===(s=v.data)||void 0===s?void 0:s.timeout),w("generalActions",null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.generalActions),w("theme",null===v||void 0===v||null===(n=v.data)||void 0===n?void 0:n.theme),w("isEmailNotificationsEnabled",null===v||void 0===v||null===(i=v.data)||void 0===i?void 0:i.isEmailNotificationsEnabled),w("subject",null===v||void 0===v||null===(o=v.data)||void 0===o?void 0:o.subject),w("senderName",null===v||void 0===v||null===(c=v.data)||void 0===c?void 0:c.senderName),w("htmlTemplate",null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.htmlTemplate),w("textTemplate",null===v||void 0===v||null===(u=v.data)||void 0===u?void 0:u.textTemplate),w("deleteAction",null===v||void 0===v||null===(p=v.data)||void 0===p?void 0:p.deleteAction),w("suppressContact",null===v||void 0===v||null===(h=v.data)||void 0===h?void 0:h.suppressContact),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(a){return e.apply(this,arguments)}}(),D=function(){var a=(0,l.Z)(r().mark((function a(t){return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C;case 3:if(!a.sent){a.next=7;break}m.Z.editRole((0,s.Z)((0,s.Z)({},t),{},{id:C})),a.next=8;break;case 7:m.Z.createRole(t);case 8:k(),e.showSuccess({message:"Successfully Updated",detail:"Add Role Screen"}),P("/app/roles"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"container p-0",children:[(0,u.jsx)("div",{className:"header-body",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("h6",{className:"header-pretitle",children:"Overview"}),(0,u.jsx)("h1",{className:"header-title text-truncate",children:"Add Role"})]})}),(0,u.jsxs)("form",{onSubmit:N(D),style:{marginTop:"30px"},children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Name of the Role"}),(0,u.jsx)("input",(0,s.Z)((0,s.Z)({type:"text"},j("name",{required:"Required Input"})),{},{className:"form-control",placeholder:"Name of the Plan"})),(null===Z||void 0===Z?void 0:Z.name)&&(0,u.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===Z||void 0===Z||null===(a=Z.name)||void 0===a?void 0:a.message})]}),(0,u.jsxs)("div",{className:"mt-6",style:{borderTopLeftRadius:"7px",borderTopRightRadius:"7px",boxShadow:"0 0.75rem 1.5rem rgb(18 38 63 / 3%)",border:"1px solid #edf2f9",backgroundColor:"#fff"},children:[(0,u.jsx)("div",{style:{padding:"12px 24px",borderBottom:"1px solid rgb(237, 242, 249)"},children:(0,u.jsx)("p",{className:"m-0",style:{fontSize:"15px",fontWeight:500,color:"#000"},children:"General"})}),(0,u.jsx)("div",{style:{padding:"1.5rem"},children:p.length>0&&p.map((function(e){return(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsxs)("div",{className:"form-check",children:[(0,u.jsx)("input",(0,s.Z)((0,s.Z)({},j("generalActions")),{},{className:"form-check-input",value:e,type:"checkbox",id:"checklistOne"})),(0,u.jsx)("label",{className:"form-check-label",children:e.value})]}),(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsx)("small",{style:{color:"#666"},children:e.text})})]},e.value)}))})]}),(0,u.jsxs)("div",{className:"form-group mt-5",children:[(0,u.jsx)("label",{className:"form-label",children:"Timeout (in seconds)"}),(0,u.jsx)("input",(0,s.Z)((0,s.Z)({type:"number"},j("timeout",{required:"Required Input",value:15})),{},{className:"form-control",placeholder:"Timeout (in seconds)"})),(0,u.jsx)("small",{className:"text-muted",children:"Sends notifications after specified timeout of inactivity. Maximum allowed timeout is 900 seconds (15 minutes). The changes may take up to an hour to propagate."})," ",(0,u.jsx)("br",{}),(null===Z||void 0===Z?void 0:Z.timeout)&&(0,u.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===Z||void 0===Z||null===(t=Z.timeout)||void 0===t?void 0:t.message})]}),(0,u.jsxs)("div",{className:"mt-6",style:{borderTopLeftRadius:"7px",borderTopRightRadius:"7px",boxShadow:"0 0.75rem 1.5rem rgb(18 38 63 / 3%)",border:"1px solid #edf2f9",backgroundColor:"#fff"},children:[(0,u.jsx)("div",{style:{padding:"12px 24px",borderBottom:"1px solid rgb(237, 242, 249)"},children:(0,u.jsxs)("p",{className:"m-0",style:{fontSize:"15px",fontWeight:500,color:"#000"},children:[" ","Email settings"]})}),(0,u.jsx)("div",{style:{padding:"1.5rem"},children:(0,u.jsxs)("div",{className:"form-check",children:[(0,u.jsx)("input",(0,s.Z)((0,s.Z)({},j("isEmailNotificationsEnabled")),{},{className:"form-check-input",value:"yes",type:"checkbox",id:"checklistOne"})),(0,u.jsx)("label",{className:"form-check-label",children:"Enable Email notifications"})]})})]}),T&&(0,u.jsxs)("div",{className:"mt-5",children:[(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Subject"}),(0,u.jsx)("input",(0,s.Z)((0,s.Z)({type:"text"},j("subject",(0,s.Z)({},T&&{required:"Required Input",value:"{{sender.name}} wants to chat with you on {{app.name}}"}))),{},{className:"form-control",placeholder:"Subject"})),(null===Z||void 0===Z?void 0:Z.subject)&&(0,u.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===Z||void 0===Z||null===(i=Z.subject)||void 0===i?void 0:i.message})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Sender name"}),(0,u.jsx)("input",(0,s.Z)((0,s.Z)({type:"text"},j("senderName",(0,s.Z)({},T&&{required:"Required Input",value:"{{sender.name}} (via {{app.name}})"}))),{},{className:"form-control",placeholder:"Sender name"})),(null===Z||void 0===Z?void 0:Z.senderName)&&(0,u.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===Z||void 0===Z||null===(x=Z.senderName)||void 0===x?void 0:x.message})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Html template"}),(0,u.jsx)("textarea",(0,s.Z)((0,s.Z)({style:{minHeight:"160px"}},j("htmlTemplate",(0,s.Z)({},T&&{required:"Required Input",value:'<div>\nHi {{recipient.name}}, <br/>\n<br/>\n{{sender.name}} wants to chat with you on {{app.name}}:<br/>\n<br/>\n{{megssages.all}}\n<br/>\n<a href="https://example.com/inbox">Click here to join the chat.</a>\n<br/>\n<br/>\nOn behalf of {{sender.name}},<br/>\nThe {{app.name}} team.<br/>\n<br/>\n</div>\n              '}))),{},{className:"form-control"})),(null===Z||void 0===Z?void 0:Z.htmlTemplate)&&(0,u.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===Z||void 0===Z||null===(f=Z.htmlTemplate)||void 0===f?void 0:f.message})]}),(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{className:"form-label",children:"Text template"}),(0,u.jsx)("textarea",(0,s.Z)((0,s.Z)({style:{minHeight:"160px"}},j("textTemplate",(0,s.Z)({},T&&{required:"Required Input",value:"Hi {{recipient.name}},\n\n{{sender.name}} wants to chat with you on {{app.name}}:\n\n{{messages.all}}\n\nhttps://example.com/inbox Click here to join the chat.\n\nOn behalf of {{sender.name}},\nThe {{app.name}} team.\n                "}))),{},{className:"form-control"})),(null===Z||void 0===Z?void 0:Z.textTemplate)&&(0,u.jsx)("small",{className:"text-danger mt-3 ms-3",children:null===Z||void 0===Z||null===(g=Z.textTemplate)||void 0===g?void 0:g.message})]})]}),(0,u.jsx)("div",{className:"mt-6",style:{borderTopLeftRadius:"7px",borderTopRightRadius:"7px",boxShadow:"0 0.75rem 1.5rem rgb(18 38 63 / 3%)",border:"1px solid #edf2f9",backgroundColor:"#fff"}}),(0,u.jsxs)("div",{className:"form-group mt-6",children:[(0,u.jsxs)("label",{className:"form-label",children:["Message action permissions (",(0,u.jsx)("b",{children:"DELETE"}),")"]}),(0,u.jsx)("select",(0,s.Z)((0,s.Z)({className:"form-control"},j("deleteAction",{value:"None"})),{},{children:h.length>0&&h.map((function(e){return(0,u.jsx)("option",{value:e,children:e},e)}))}))]}),(0,u.jsxs)("div",{className:"form-group mt-6",children:[(0,u.jsx)("label",{className:"form-label",children:"Suppress contact info"}),(0,u.jsx)("select",(0,s.Z)((0,s.Z)({className:"form-control"},j("suppressContact",{value:""})),{},{children:v.length>0&&v.map((function(e){return(0,u.jsx)("option",{value:e.value,children:e.label},e.value)}))}))]}),(0,u.jsx)("button",{className:"btn btn-primary mt-5 mb-5",type:"submit",children:"Save Changes"})]})]})}},344:function(e,a,t){var s=t(4476),l=(t(4268),{getUsers:function(){return s.Z.get("/admin/get-users")},getUserActions:function(){return s.Z.get("/admin/get-user-actions")},createPackage:function(e){return s.Z.post("/admin/create-package",e)},getPackages:function(){return s.Z.get("/admin/get-packages")},getPackageById:function(e){return s.Z.get("/admin/get-package/".concat(e))},editPackage:function(e){return s.Z.put("/admin/edit-package",e)},markPackageAsDefualt:function(e){return s.Z.put("/admin/mark-package-as-default",e)}});a.Z=l}}]);
//# sourceMappingURL=522.47f7ad9a.chunk.js.map